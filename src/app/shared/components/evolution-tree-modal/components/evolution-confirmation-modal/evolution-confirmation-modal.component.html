<app-modal [id]="id()" [closable]="!isEvolving()">
  <div class="evolution-confirmation-modal-container">
    <div class="evolution-confirmation-container">
      <div class="evolution-confirmation-header">
        <h2 class="evolution-confirmation-header-title">
          {{
            "SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.EVOLUTION_CONFIRMATION_TITLE"
              | transloco
          }}
        </h2>
        <span class="evolution-confirmation-header-text">
          {{
            "SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.EVOLUTION_CONFIRMATION_TEXT"
              | transloco
                : { main: mainDigimon()?.name, target: selectedDigimon()?.name }
          }}
        </span>
        <div class="evolution-confirmation-digimon">
          <div class="evolution-confirmation-digimon-main">
            <img [src]="mainDigimon()?.img" alt="main-digimon" />
          </div>
          <i class="ph-arrow-fat-lines-right ph-bold arrow-icon"></i>
          <div class="evolution-confirmation-digimon-selected">
            <img [src]="selectedDigimon()?.img" alt="selected-digimon" />
          </div>
        </div>
      </div>
      <div class="evolution-confirmation-content">
        <div class="evolution-confirmation-content-info">
          @if(mainDigimon() && selectedDigimon()) {
          <span>
            {{ "SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.HP" | transloco }}:
            {{ mainDigimon()?.maxHp }} ->
            <span class="new-value">
              {{ selectedPossibleEvolutionStats()?.maxHp }} ↑
            </span>
          </span>
          <span>
            {{ "SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.MP" | transloco }}:
            {{ mainDigimon()?.maxMp }} ->
            <span class="new-value">
              {{ selectedPossibleEvolutionStats()?.maxMp }} ↑
            </span>
          </span>
          <span>
            {{ "SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.ATK" | transloco }}:
            {{ mainDigimon()?.atk }} ->
            <span class="new-value">
              {{ selectedPossibleEvolutionStats()?.atk }} ↑
            </span>
          </span>
          <span>
            {{ "SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.DEF" | transloco }}:
            {{ mainDigimon()?.def }} ->
            <span class="new-value">
              {{ selectedPossibleEvolutionStats()?.def }} ↑
            </span>
          </span>
          <span>
            {{ "SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.SPD" | transloco }}:
            {{ mainDigimon()?.speed }} ->
            <span class="new-value">
              {{ selectedPossibleEvolutionStats()?.speed }} ↑
            </span>
          </span>
          <span>
            {{
              "SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.BIT_GENERATION"
                | transloco
            }}: {{ mainDigimon()?.bitFarmingRate }} ->
            <span class="new-value">
              {{ selectedPossibleEvolutionStats()?.bitFarmingRate }} ↑
            </span>
          </span>
          }
        </div>
        <div class="evolution-confirmation-content-actions">
          <app-button
            [text]="'SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.NO' | transloco"
            [disabled]="isEvolving()"
            (onClick)="close()"
          />
          <app-button
            [text]="'SHARED.COMPONENTS.EVOLUTION_TREE_MODAL.YES' | transloco"
            (onClick)="evolveDigimon()"
            [disabled]="isEvolving()"
          />
        </div>
      </div>
    </div>
  </div>
</app-modal>
